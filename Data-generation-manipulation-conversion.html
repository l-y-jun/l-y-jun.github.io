<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Query Primer 7. Data Generation, Manipulation, and Conversion</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="intro to data manipulates and DDL" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">lyjun.log</a></h1>
                <nav><ul>
                    <li><a href="/category/algorithm.html">algorithm</a></li>
                    <li class="active"><a href="/category/database.html">database</a></li>
                    <li><a href="/category/datastructure.html">datastructure</a></li>
                    <li><a href="/category/math.html">math</a></li>
                    <li><a href="/category/writting.html">writting</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/Data-generation-manipulation-conversion.html" rel="bookmark"
           title="Permalink to Query Primer 7. Data Generation, Manipulation, and Conversion">Query Primer 7. Data Generation, Manipulation, and Conversion</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-02-10T18:18:00+09:00">
                Published: Fri 10 February 2023
        </abbr>
		<br />
        <abbr class="modified" title="2023-02-27T19:41:00+09:00">
                Updated: Mon 27 February 2023
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/junehan.html">junehan</a>
        </address>
<p>In <a href="/category/database.html">database</a>.</p>
<p>tags: <a href="/tag/sql.html">sql</a> </p>
</footer><!-- /.post-info -->      <div class="section" id="subject">
<h2>SUBJECT: 데이터 타입과 데이터 조작 방법에 대해 알아보자</h2>
<blockquote>
<ul>
<li><p class="first">References</p>
<blockquote>
<ul class="simple">
<li>text book, Learning sql 3rd edition</li>
</ul>
</blockquote>
</li>
</ul>
</blockquote>
</div>
<div class="section" id="string-data">
<h2>String Data</h2>
<div class="section" id="types">
<h3>TYPES</h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">CHAR</tt>:</th><td class="field-body"><div class="first last line-block">
<div class="line">고정된 길이로, blank-padded strings.</div>
<div class="line">MYSQL에서는 255, Oracle에서는 2000길이 까지 허용한다.</div>
</div>
</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">VARCHAR</tt>:</th><td class="field-body"><div class="first last line-block">
<div class="line">variable-length. 길이와, 문자열을 동시에 가진 string.</div>
<div class="line">MYSQL-65,535 Oracle 4000</div>
</div>
</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">TEXT</tt>:</th><td class="field-body"><div class="first last line-block">
<div class="line">굉장히 긴 VARCHAR문자열 데이터.</div>
<div class="line">MYSQL-MAX 4GB(tinytext, text, midiumtext, longtext), ORACLE(clob type)-128TB</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="string-generation">
<h2>String Generation</h2>
<div class="line-block">
<div class="line">정해진 데이터의 제약(길이제한 등)에 맞지 않게 데이터를 입력할 경우,</div>
<div class="line">서버는 예외를 발생시킨다.</div>
<div class="line">이는 모든 DB서버에서 동일한 현상이지만, MYSQL 등 일부 서버의 경우 잘라진 길이로 입력되도록 하는 등</div>
<div class="line">예외가 아닌 처리가 가능하도록 정책을 변경할 수 도 있다.</div>
<div class="line"><br /></div>
<div class="line">MYSQL 6.0(현 8.032), 이후 기본 행동은 &quot;strict&quot; mode 로 설정되어 있다.</div>
<div class="line">이는 문제 생겼을때 예외를 발생시키는 것으로, 반면 구 버전의 경우</div>
<div class="line">문자는 잘려지고, 경고가 전달된다.</div>
</div>
<div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">@@</span><span class="k">session</span><span class="p">.</span><span class="n">sql_mode</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span><span class="w"> </span><span class="o">@@</span><span class="k">session</span><span class="p">.</span><span class="n">sql_mode</span><span class="w">                                                                                                    </span><span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span><span class="w"> </span><span class="n">ONLY_FULL_GROUP_BY</span><span class="p">,</span><span class="n">STRICT_TRANS_TABLES</span><span class="p">,</span><span class="n">NO_ZERO_IN_DATE</span><span class="p">,</span><span class="n">NO_ZERO_DATE</span><span class="p">,</span><span class="n">ERROR_FOR_DIVISION_BY_ZERO</span><span class="p">,</span><span class="n">NO_ENGINE_SUBSTITUTION</span><span class="w"> </span><span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------+</span>

<span class="k">SET</span><span class="w"> </span><span class="n">sql_mode</span><span class="o">=</span><span class="ss">&quot;ansi&quot;</span><span class="p">;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">@@</span><span class="k">session</span><span class="p">.</span><span class="n">sql_mode</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------------------------+</span>
<span class="o">|</span><span class="w"> </span><span class="o">@@</span><span class="k">session</span><span class="p">.</span><span class="n">sql_mode</span><span class="w">                                                             </span><span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------------------------+</span>
<span class="o">|</span><span class="w"> </span><span class="n">REAL_AS_FLOAT</span><span class="p">,</span><span class="n">PIPES_AS_CONCAT</span><span class="p">,</span><span class="n">ANSI_QUOTES</span><span class="p">,</span><span class="n">IGNORE_SPACE</span><span class="p">,</span><span class="n">ONLY_FULL_GROUP_BY</span><span class="p">,</span><span class="n">ANSI</span><span class="w"> </span><span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------------------------+</span>

<span class="k">update</span><span class="w"> </span><span class="n">string_tbl</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">vchar_fld</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;THIS IS very long of vchar field data&#39;</span><span class="p">;</span>
<span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span>
<span class="k">Rows</span><span class="w"> </span><span class="n">matched</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Changed</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">Warnings</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>

<span class="k">SHOW</span><span class="w"> </span><span class="n">warnings</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------+------------------------------------------------+</span>
<span class="o">|</span><span class="w"> </span><span class="k">Level</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Code</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Message</span><span class="w">                                        </span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+------------------------------------------------+</span>
<span class="o">|</span><span class="w"> </span><span class="n">Warning</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1265</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Data</span><span class="w"> </span><span class="n">truncated</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="s1">&#39;vchar_fld&#39;</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+------------------------------------------------+</span>
</pre></div>
<div class="line-block">
<div class="line">실제로 위처럼 구문에 대한 모드를 변경했을때,</div>
<div class="line">ANSI_QUOTES 라는 규칙에 의해 &quot; 는 제대로 동작하지 않는다.</div>
</div>
<blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><em>ANSI_QUOTES</em>:</th><td class="field-body">&quot;기호를 `와 같은 구분자 문자로 사용하고 문자열 기호로 사용하지 않는다.</td>
</tr>
</tbody>
</table>
</blockquote>
<div class="line-block">
<div class="line">문자열이 잘려지는 것은, 결론적으로는 규약에 따라 재입력된 것으로</div>
<div class="line">원하는 결과와는 다르게 적용된 것이라서, varchar를 사용하면서 충분히</div>
<div class="line">큰 길이의 문자열을 담을 수 있도록 제약을 수정하는 것이 좋은 해결법이다.</div>
</div>
<blockquote>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last"><em>서버는 문자열이 저장되기 위한 공간만 사용하는 것이기 때문에,
충분히 큰 크기로 데이터의 제약을 설정하는 것은 낭비라고 볼 수 없다.</em></p>
</div>
</blockquote>
<div class="section" id="including-single-quotes">
<h3>including single quotes</h3>
<div class="line-block">
<div class="line">홑따옴표가 문자열의 구분자로 사용되기 때문에 apostrophe로 활용하기 위해서</div>
<div class="line">아래와 같이 사용할 수 있다.</div>
</div>
<div class="highlight"><pre><span></span><span class="k">UPDATE</span><span class="w"> </span><span class="n">string_tbl</span>
<span class="k">SET</span><span class="w"> </span><span class="n">text_fld</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;This string didn&#39;&#39;t work, but it does now&#39;</span><span class="p">;</span>

<span class="k">UPDATE</span><span class="w"> </span><span class="n">string_tbl</span>
<span class="k">SET</span><span class="w"> </span><span class="n">text_fld</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;This string didn\&#39;</span><span class="n">t</span><span class="w"> </span><span class="k">work</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">now</span><span class="err">&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="string-manipulation">
<h2>String Manipulation</h2>
<div class="section" id="functions-return-numbers">
<h3>Functions return numbers</h3>
<ul>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">LENGTH(str)</tt>:</th><td class="field-body"><p class="first">문자열의 현재 길이를 반환.</p>
<div class="last"><div class="highlight"><pre><span></span><span class="w"> </span><span class="k">SELECT</span>
<span class="w">    </span><span class="k">LENGTH</span><span class="p">(</span><span class="n">char_fld</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">char_data</span><span class="p">,</span>
<span class="w">    </span><span class="k">LENGTH</span><span class="p">(</span><span class="n">vchar_fld</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">VCHAR_DATA</span>
<span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">string_tbl</span><span class="p">;</span>

<span class="w"> </span><span class="o">+</span><span class="c1">-----------+------------+</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">char_data</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">VCHAR_DATA</span><span class="w"> </span><span class="o">|</span>
<span class="w"> </span><span class="o">+</span><span class="c1">-----------+------------+</span>
<span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">9</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span>
<span class="w"> </span><span class="o">+</span><span class="c1">-----------+------------+</span>

<span class="o">#</span><span class="n">char_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;char data&#39;</span>
<span class="o">#</span><span class="n">vchar_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;vchar data&#39;</span>
</pre></div>
</div></td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">POSITION(substr IN str)</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">synonym for <tt class="docutils literal">LOCATE(substr, str, 1)</tt>. LOCATE는 3번째 param으로 탐색 위치를 지정할 수 있으며, SQL에서는 0을 위치가 아닌 부정의 의미로만 사용한다.</p>
<div class="last"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="w">   </span><span class="k">POSITION</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="n">vchar_fld</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DATA_POS</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">string_tbl</span><span class="p">;</span>

<span class="k">SELECT</span>
<span class="w">   </span><span class="n">LOCATE</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">vchar_fld</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DATA_POS</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">string_tbl</span><span class="p">;</span>

<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span><span class="w"> </span><span class="n">DATA_POS</span><span class="w"> </span><span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span><span class="w">        </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>

<span class="o">#</span><span class="n">vchar_fld</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;vchar6data&#39;</span><span class="p">;</span>
</pre></div>
</div></td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">STRCMP(expr1, expr2)</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">문자열 비교, string.h의 strcmp함수와 동일하게 동작한다. 문자열화 가능한 모든 것에 사용가능하며, NULL이 표현으로 들어올 경우 무조건 NULL이 반환된다.</p>
<div class="last"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="w">   </span><span class="n">STRCMP</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;123&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s1">&#39;equ&#39;</span><span class="p">,</span>
<span class="w">   </span><span class="n">STRCMP</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;bcd&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s1">&#39;smaller&#39;</span><span class="p">,</span>
<span class="w">   </span><span class="n">STRCMP</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s1">&#39;bigger&#39;</span><span class="p">,</span>
<span class="w">   </span><span class="n">STRCMP</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s1">&#39;null&#39;</span><span class="p">,</span>
<span class="w">   </span><span class="n">STRCMP</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s1">&#39;smaller2&#39;</span><span class="p">;</span>

<span class="w">   </span><span class="o">+</span><span class="c1">-----+---------+--------+------+----------+</span>
<span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">equ</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">smaller</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">bigger</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">smaller2</span><span class="w"> </span><span class="o">|</span>
<span class="w">   </span><span class="o">+</span><span class="c1">-----+---------+--------+------+----------+</span>
<span class="w">   </span><span class="o">|</span><span class="w">   </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="o">|</span>
<span class="w">   </span><span class="o">+</span><span class="c1">-----+---------+--------+------+----------+</span>
</pre></div>
</div></td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">REGEXP, LIKE operator in SELECT</p>
<blockquote>
<div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="w">   </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;%y&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ends_in_y</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">category</span><span class="p">;</span>

<span class="k">SELECT</span>
<span class="w">   </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">REGEXP</span><span class="w"> </span><span class="s1">&#39;y$&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ends_in_y</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">category</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-------------+-----------+</span>
<span class="o">|</span><span class="w"> </span><span class="n">Action</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">Animation</span><span class="w">   </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">Children</span><span class="w">    </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">Classics</span><span class="w">    </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">Comedy</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">Documentary</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">Drama</span><span class="w">       </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">Family</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="k">Foreign</span><span class="w">     </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">Games</span><span class="w">       </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">Horror</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">Music</span><span class="w">       </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="k">New</span><span class="w">         </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">Sci</span><span class="o">-</span><span class="n">Fi</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">Sports</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="n">Travel</span><span class="w">      </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+-----------+</span>
</pre></div>
</blockquote>
</li>
</ul>
</div>
<div class="section" id="functions-return-strings">
<h3>Functions return strings</h3>
<ul>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">CONCAT(str1, str2, <span class="pre">...)</span></tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">generate string with strings.</p>
<div class="last"><div class="highlight"><pre><span></span><span class="k">UPDATE</span><span class="w"> </span><span class="n">string_tbl</span>
<span class="w">   </span><span class="k">SET</span><span class="w"> </span><span class="n">text_fld</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CONCAT</span><span class="p">(</span><span class="n">text_fld</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;, but now it&#39;&#39;s more longer&#39;</span><span class="p">);</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39; has been a customer since ` || date(create_date)</span>
<span class="s1">/*</span>
<span class="s1"> * &#39;</span><span class="o">||</span><span class="err">&#39;</span><span class="w"> </span><span class="err">기호를</span><span class="w"> </span><span class="n">concat으로</span><span class="w"> </span><span class="err">받아들이는</span><span class="w"> </span><span class="err">경우는</span><span class="w"> </span><span class="n">sql_mode에</span><span class="w"> </span><span class="n">PIPES_AS_CONCAT가</span><span class="w"> </span><span class="err">있어야</span><span class="w"> </span><span class="err">한다</span><span class="p">.(</span><span class="n">ansi로</span><span class="w"> </span><span class="err">설정시</span><span class="w"> </span><span class="err">추가됨</span><span class="p">)</span>
<span class="w"> </span><span class="o">*/</span>
</pre></div>
</div></td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">INSERT(dest_str, pos, offset, <span class="pre">src-str)</span></tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">generate with inserting src into dest</p>
<div class="last"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">INSERT</span><span class="p">(</span><span class="s1">&#39;Helloworld&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;, &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>

<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span><span class="w"> </span><span class="n">string</span><span class="w">       </span><span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span><span class="w"> </span><span class="n">hello</span><span class="p">,</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
</pre></div>
</div></td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><tt class="docutils literal">REPLACE(str, search, replace)</tt>: generate string with replacing the search string to replace string.</p>
<blockquote>
<div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">REPLACE</span><span class="p">(</span><span class="s1">&#39;goodbye world&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;goodbye&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;hello&#39;</span><span class="p">);</span>
<span class="o">#</span><span class="n">hello</span><span class="w"> </span><span class="n">world</span>
</pre></div>
</blockquote>
</li>
<li><p class="first"><tt class="docutils literal">SUBSTRING(str, start, length)</tt>: generate string extracted from start to length.</p>
<blockquote>
<div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">&#39;goodbye cruel world&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="o">#</span><span class="n">cruel</span>
</pre></div>
</blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="working-with-numeric-data">
<h2>Working with Numeric Data</h2>
<div class="line-block">
<div class="line">문자열과 다르게 숫자형 데이터는 단순하다.</div>
<div class="line">숫자를 입력하고, 값을 추출하고, 계산을 통해 값을 생성한다.</div>
<div class="line">모든 일반적인 숫자 연산이 가능하며, 괄호를 통해 우선순위를 지정할 수 있다.</div>
</div>
<div class="section" id="types-1">
<h3>Types</h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">tinyint:</th><td class="field-body">-128 ~ 127 / 1byte</td>
</tr>
<tr class="field"><th class="field-name">smallint:</th><td class="field-body">-32,768 ~ 32,767 / 2byte</td>
</tr>
<tr class="field"><th class="field-name">mediumint:</th><td class="field-body">-8,388,608 ~ 8,388,607 / 3byte</td>
</tr>
<tr class="field"><th class="field-name">int:</th><td class="field-body">-2,147,483,648 ~ 2,147,483,647 / 4byte</td>
</tr>
<tr class="field"><th class="field-name">bigint:</th><td class="field-body">-2^63 ~ -2^63 - 1 / 8byte</td>
</tr>
<tr class="field"><th class="field-name">float(p, s):</th><td class="field-body">4byte single presion (unsignable)</td>
</tr>
<tr class="field"><th class="field-name">double(p, s):</th><td class="field-body">8byte double precision (unsignable)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="controlling-number-precision">
<h3>Controlling Number Precision</h3>
<ul>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">CEIL(number)</tt>:</th><td class="field-body">Round up to integer.</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">FLOOR(number)</tt>:</th><td class="field-body">Round down to integer.</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">ROUND(number, pos)</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">Round at next to number of <em>pos(negative pos means interger portion)</em>.</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">TRUNCATE(number, pos)</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">Truncate the number of <em>pos(same as usage of pos in ROUND function)</em>.</p>
<div class="last"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">ROUND</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="k">TRUNCATE</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>

<span class="o">#</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span>
</pre></div>
</div></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</div>
<div class="section" id="generation-temporal-data">
<h2>Generation Temporal Data</h2>
<p>시간 데이터를 생성하는 방법</p>
<blockquote>
<ul class="simple">
<li>이미 존재하는 date, datetime, time열의 데이터에서 복사</li>
<li>date, datetime, time을 생성하는 내장 함수를 사용</li>
<li>서버에서 평가할 수 있도록, 시간 데이터를 의미하는 문자열을 구성</li>
</ul>
</blockquote>
<div class="section" id="string-representation-of-temporal-data">
<h3>String representation of temporal data</h3>
<ul>
<li><p class="first">Date Format Components</p>
<blockquote>
<ul class="simple">
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">YYYY:</th><td class="field-body">1000 ~ 9999</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">MM:</th><td class="field-body">01 ~ 12</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">DD:</th><td class="field-body">01 ~ 31</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">HH:</th><td class="field-body">00 ~ 23</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">HHH(elapsed):</th><td class="field-body">-838 ~ 838</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">MI:</th><td class="field-body">00 ~ 59</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">SS:</th><td class="field-body">00 ~ 59</td>
</tr>
</tbody>
</table>
</li>
</ul>
</blockquote>
</li>
<li><p class="first">Required Date Components Formats</p>
<blockquote>
<ul class="simple">
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">DATE</tt>:</th><td class="field-body">YYYY-MM-DD, date part only</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">DATETIME</tt>:</th><td class="field-body">YYYY-MM-DD HH:MI:SS, date and time (1000-01-01 ~ 9999-01-01)</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">TIMESTAMP</tt>:</th><td class="field-body">YYYY-MM-DD HH:MI:SS, date and time in UTC ONLY (1970-01-01 ~ 2038-01-19)</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">TIME</tt>:</th><td class="field-body">HHH:MI:SS</td>
</tr>
</tbody>
</table>
</li>
</ul>
</blockquote>
</li>
<li><p class="first">Date Format components</p>
<blockquote>
<ul class="simple">
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">%M</tt>:</th><td class="field-body">Month name(January ~ December)</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">%m</tt>:</th><td class="field-body">Month (01 ~ 12)</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">%d</tt>:</th><td class="field-body">Day (01 ~ 31)</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">%j</tt>:</th><td class="field-body">Day of year (001 ~ 366)</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">%W</tt>:</th><td class="field-body">Weekday name (Sunday ~ Saturday)</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">%Y</tt>:</th><td class="field-body">Year in 4 digit (2023)</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">%y</tt>:</th><td class="field-body">Year in 2 digit (23)</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">%H</tt>:</th><td class="field-body">Hour (00 ~ 23)</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">%h</tt>:</th><td class="field-body">Hour (01 ~ 12)</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">%i</tt>:</th><td class="field-body">Minutes (00 ~ 59)</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">%s</tt>:</th><td class="field-body">Seconds (00 ~ 59)</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">%f</tt>:</th><td class="field-body">Microseconds (000000 ~ 999999)</td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">%p</tt>:</th><td class="field-body">A.M or P.M.</td>
</tr>
</tbody>
</table>
</li>
</ul>
</blockquote>
</li>
</ul>
</div>
<div class="section" id="generation-dates">
<h3>Generation Dates</h3>
<ul>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal"><span class="pre">CAST(&lt;SRC&gt;</span> AS type)</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">SRC 양식에서 type에 대한 자료로 변형</p>
<div class="last"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="w">   </span><span class="k">CAST</span><span class="p">(</span><span class="s1">&#39;2019-09-17&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">DATE</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">date_field</span><span class="p">,</span>
<span class="w">   </span><span class="k">CAST</span><span class="p">(</span><span class="s1">&#39;108:17:57&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">DATE</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">time_field</span><span class="p">;</span>

<span class="o">#</span><span class="w"> </span><span class="mi">2019</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">17</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">108</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">57</span>
<span class="o">#</span><span class="w"> </span><span class="k">Type</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">changed</span><span class="p">.</span>
</pre></div>
</div></td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal"><span class="pre">STR_TO_DATE('temporal</span> string format' AS format_expr)</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">문자열 양식에서 format_expr에 해당하는 부분을 구성요소에 맞게 변형</p>
<div class="last"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">STR_TO_DATE</span><span class="p">(</span><span class="s1">&#39;Septempber 17,..HI 2019&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;%M %d,..HI %Y&#39;</span><span class="p">);</span>
<span class="o">#</span><span class="w"> </span><span class="mi">2019</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">17</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">STR_TO_DATE</span><span class="p">(</span><span class="s1">&#39;Septempber 17,..HI 2019 12&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;%M %d,..HI %Y %H&#39;</span><span class="p">);</span>
<span class="o">#</span><span class="w"> </span><span class="mi">2019</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">17</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
</pre></div>
</div></td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal"><span class="pre">DATE_ADD(SRC-DATE,</span> INTERVAL <span class="pre">n-amount</span> <span class="pre">AMOUNT-TYPE)</span></tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">SRC-DATE로 부터 Interval만큼 더한 날짜를 반환하는데, INTERVAL 형태에 따라 DATETIME으로 변형</p>
<ul>
<li><p class="first">Interval types</p>
<blockquote>
<ul class="simple">
<li><tt class="docutils literal">second</tt></li>
<li><tt class="docutils literal">minute</tt></li>
<li><tt class="docutils literal">hour</tt></li>
<li><tt class="docutils literal">day</tt></li>
<li><tt class="docutils literal">month</tt></li>
<li><tt class="docutils literal">year</tt></li>
<li><tt class="docutils literal">minute_second</tt>: m:s sepeated by ':'</li>
<li><tt class="docutils literal">hour_second</tt>: h:m:s sepeated by ':'</li>
<li><tt class="docutils literal">year_month</tt>: sepeated by '-'</li>
</ul>
</blockquote>
</li>
</ul>
<div class="last"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">DATE_ADD</span><span class="p">(</span><span class="k">CURRENT_DATE</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">DAY</span><span class="p">);</span>
<span class="o">#</span><span class="w"> </span><span class="mi">2023</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">05</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">DATE_ADD</span><span class="p">(</span><span class="k">CURRENT_DATE</span><span class="p">(),</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="s1">&#39;9:33:34&#39;</span><span class="w"> </span><span class="n">HOUR_SECOND</span><span class="p">);</span>
<span class="o">#</span><span class="w"> </span><span class="mi">2023</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">24</span><span class="w"> </span><span class="mi">09</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">34</span>
</pre></div>
</div></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<div class="section" id="manipulate-dates">
<h3>Manipulate Dates</h3>
<ul>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">DAYNAME(DATE)</tt>:</th><td class="field-body"><p class="first">DATE로 부터 day name of week를 추출한다.</p>
<div class="last"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">DAYNAME</span><span class="p">(</span><span class="k">CURRENT_DATE</span><span class="p">());</span>
<span class="o">#</span><span class="w"> </span><span class="n">Friday</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">DAYNAME</span><span class="p">(</span><span class="s1">&#39;2019-09-18&#39;</span><span class="p">);</span>
<span class="o">#</span><span class="w"> </span><span class="n">Wednesday</span>
</pre></div>
</div></td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">EXTRACT(UNIT FROM DATE)</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">DATE로 부터 UNIT의 수치를 반환한다.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">UNIT:</th><td class="field-body">YEAR, MONTH, DAY, HOUR, MINUTE, SECOND, MICROSECOND</td>
</tr>
</tbody>
</table>
<div class="last"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">EXTRACT</span><span class="p">(</span><span class="n">HOUR</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">NOW</span><span class="p">());</span>
<span class="o">#</span><span class="w"> </span><span class="mi">23</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">EXTRACT</span><span class="p">(</span><span class="k">DAY</span><span class="w"> </span><span class="s1">&#39;2019-09-18&#39;</span><span class="p">);</span>
<span class="o">#</span><span class="w"> </span><span class="mi">18</span>
</pre></div>
</div></td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">DATEDIFF(DEST, SRC)</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">DATE DEST로 부터 SRC의 DAY DIFF를 반환한다.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">UNIT:</th><td class="field-body">YEAR, MONTH, DAY, HOUR, MINUTE, SECOND, MICROSECOND</td>
</tr>
</tbody>
</table>
<div class="last"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">DATEDIFF</span><span class="p">(</span><span class="s1">&#39;2019-09-03&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2019-06-21 00:00:01&#39;</span><span class="p">);</span>
<span class="o">#</span><span class="w"> </span><span class="mi">74</span>
</pre></div>
</div></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<div class="section" id="conversion-functions">
<h3>Conversion Functions</h3>
<div class="line-block">
<div class="line">CAST()를 사용해서 string(date format)을 datetime 타입의 값으로 변환했었는데,</div>
<div class="line">모든 데이터베이스 서버는 특정 데이터를 다른 타입으로 변경할 수 있는 내장함수들을 가지고 있지만,</div>
<div class="line">CAST()를 사용할 것을 적극 추천한다.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal"><span class="pre">CAST(&lt;SRC&gt;</span> AS &lt;TYPE&gt;)</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">SRC를 내장 Type에 맞게 자료형을 변경한다.</p>
<div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="w">   </span><span class="k">CAST</span><span class="p">(</span><span class="s1">&#39;2019-09-17&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">DATE</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">date_field</span><span class="p">,</span>
<span class="w">   </span><span class="k">CAST</span><span class="p">(</span><span class="s1">&#39;1456328&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SIGNED</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">to_num</span><span class="p">,</span>
<span class="w">   </span><span class="k">CAST</span><span class="p">(</span><span class="s1">&#39;099ABC111&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">to_natural</span><span class="p">;</span>
<span class="o">#</span><span class="w"> </span><span class="mi">2019</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">17</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1456328</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">99</span>
</pre></div>
<div class="last line-block">
<div class="line">이 경우 마지막 쿼리에서 Warning이 발생하는데,</div>
<div class="line">예상할 수 있는 정도의 경고로 크리티컬한 것이 아니므로</div>
<div class="line">성공적으로 쿼리는 종료되지만 정책의 변경에 의해 금지하거나 할 수 있다.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>

    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://github.com/l-y-jun">github</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://https://blog.naver.com/junehan-normal">usual posts</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>